<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.usts.feeback.dao.CommentMapper">

    <resultMap id="BriefCommentResult" type="com.usts.feeback.pojo.Comment">
        <result property="id" column="id"/>
        <result property="title" column="title"/>
        <result property="studentName" column="sname"/>
        <result property="studentId" column="student_id"/>
        <result property="targetId" column="target_id"/>
    </resultMap>

    <select id="queryOpenParentComments" resultMap="BriefCommentResult">
        select comment.id as id, title, sname, student_id, target_id
        from comment
                 left join college_student on student_id = college_student.id
        where target_id = #{feeId}
          and pid = 0
          and closed = 0
    </select>
</mapper>

